/* Teacher Dashboard Enhanced Styles */
:root {
  --bg: #0e141a;
  --bg-alt: #121b24;
  --bg-accent: #1b2733;
  --panel: #15202b;
  --panel-border: #223240;
  --text: #e6eaf0;
  --text-dim: #95a3b3;
  --primary: #2d80ef;
  --primary-hover: #3b8ef9;
  --danger: #d14b4b;
  --danger-hover: #e15555;
  --radius-s:4px; --radius-m:6px; --radius-l:12px;
  --focus-ring: 0 0 0 2px rgba(45,128,239,.35),0 0 0 4px rgba(45,128,239,.15);
  --font-stack: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
}

* { box-sizing: border-box; }
html, body { height:100%; }
body {
  margin:0; font-family: var(--font-stack); background: linear-gradient(140deg,#0c1217,#101b25 45%,#0f1822); color: var(--text);
  -webkit-font-smoothing: antialiased;
}

header {
  padding: 14px 26px; display:flex; align-items:center; justify-content:space-between;
  background: rgba(18,27,35,.85); backdrop-filter: blur(12px); border-bottom:1px solid var(--panel-border);
  position: sticky; top:0; z-index:50;
}
header h1 { font-size: 20px; font-weight:600; display:flex; align-items:center; gap:10px; letter-spacing:.5px; }
header h1 .badge { background: var(--primary); padding:4px 10px; font-size:12px; border-radius: 50px; }

nav { display:flex; gap:10px; flex-wrap:wrap; }
nav button, .btn {
  background: var(--bg-alt); color: var(--text); border:1px solid var(--panel-border);
  padding:8px 16px; font-size:14px; border-radius: var(--radius-m); cursor:pointer; font-weight:500;
  position:relative; overflow:hidden; transition: background .25s, border-color .25s, color .25s;
}
nav button:hover, .btn:hover { background:#1f2c38; }
nav button.active { background: var(--primary); border-color: var(--primary); box-shadow:0 4px 14px -4px rgba(45,128,239,.5); }
nav button:focus-visible { outline:none; box-shadow: var(--focus-ring); }

main { padding:32px clamp(16px,3vw,48px); max-width: 1400px; margin:0 auto; }

section { display:none; animation: fadeIn .35s ease; }
section.active { display:block; }
@keyframes fadeIn { from {opacity:0; transform: translateY(6px);} to {opacity:1; transform: translateY(0);} }

.toolbar { display:flex; gap:14px; flex-wrap:wrap; margin:0 0 18px; }
.toolbar > * { flex: 1 1 200px; }
.stat {
  background: var(--bg-accent); border:1px solid var(--panel-border); padding:12px 16px; border-radius: var(--radius-m);
  font-size:13px; font-weight:500; letter-spacing:.3px; position:relative; overflow:hidden;
}
.stat:before { content:""; position:absolute; inset:0; background:linear-gradient(135deg,rgba(255,255,255,.05),rgba(255,255,255,0)); pointer-events:none; }

input, select, textarea { background: var(--bg-alt); border:1px solid #2d3b47; color: var(--text); padding:10px 12px; border-radius: var(--radius-m); font-size:14px; width:100%; font-family:inherit; transition:border-color .25s, background .25s; }
input:focus, select:focus, textarea:focus { outline:none; border-color: var(--primary); box-shadow: var(--focus-ring); }

form .row { display:flex; gap:14px; flex-wrap:wrap; }
form .row > div { flex:1 1 160px; }
form label { display:flex; flex-direction:column; gap:6px; font-size:12px; text-transform:uppercase; letter-spacing:.8px; font-weight:600; color: var(--text-dim); }

/* Improved form inputs and validation */
form input:invalid, form select:invalid, form textarea:invalid { 
  border-color: var(--danger); 
}
form input.success, form select.success { 
  border-color: #2ecc71;
}
form input::placeholder, form textarea::placeholder {
  color: var(--text-dim);
  opacity: 0.7;
}
form .input-tip {
  font-size: 11px;
  font-style: italic;
  color: var(--text-dim);
  margin-top: 2px;
}
form .validation-msg {
  color: var(--danger);
  font-size: 11px;
  margin-top: 4px;
  font-weight: normal;
  text-transform: none;
  letter-spacing: normal;
}

/* Custom select styling */
form select {
  appearance: none;
  background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%2395a3b3' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M6 9L12 15 18 9'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 10px center;
  background-size: 16px;
  padding-right: 32px; /* Space for dropdown arrow */
}

form button[type=submit] { background: var(--primary); border:none; font-weight:600; letter-spacing:.5px; margin-top:14px; }
form button[type=submit]:hover { background: var(--primary-hover); }
form button[type=submit]:focus-visible { outline:none; box-shadow: var(--focus-ring); }

button.danger { background: var(--danger); border:none; }
button.danger:hover { background: var(--danger-hover); }

.mini { 
  font-size:12px; 
  margin-top:10px;
  padding: 8px 12px;
  border-radius: var(--radius-s);
  transition: all 0.3s ease;
}
.mini:empty { 
  display: none; 
}
.mini:not(:empty) {
  animation: fadeIn 0.3s ease;
}
/* Error styling */
.mini:not(:empty) {
  background: rgba(0, 0, 0, 0.2);
  border-left: 3px solid var(--text-dim);
}
#addQMsg:not(:empty), #delQMsg:not(:empty) {
  margin-top: 16px;
  font-weight: 500;
}
/* Success message styling */
.mini:not(:empty):first-letter {
  font-size: 16px;
}
.muted { color: var(--text-dim); font-size:12px; }
.nowrap { white-space:nowrap; }
.inline { display:inline-flex; gap:10px; align-items:flex-end; flex-wrap:wrap; }

/* Table */
.table-wrapper { position:relative; background: var(--panel); border:1px solid var(--panel-border); border-radius: var(--radius-l); overflow:hidden; }
.table-scroller { overflow:auto; max-height: 62vh; }

#attemptTable { width:100%; border-collapse:collapse; font-size:13.5px; }
#attemptTable thead th { position:sticky; top:0; background:var(--bg-accent); border-bottom:1px solid var(--panel-border); padding:10px 12px; font-weight:600; text-align:left; cursor:pointer; user-select:none; font-size:12px; letter-spacing:.7px; }
#attemptTable tbody td { padding:8px 12px; border-bottom:1px solid #1f2d38; }
#attemptTable tbody tr { transition: background .2s; }
#attemptTable tbody tr:nth-child(even) { background:#16212b; }
#attemptTable tbody tr:hover { background:#1d2a34; }
#attemptTable thead th.sort-asc:after, #attemptTable thead th.sort-desc:after { content:""; position:absolute; right:8px; top:50%; width:6px; height:6px; transform:translateY(-50%) rotate(45deg); border-right:2px solid var(--text-dim); border-bottom:2px solid var(--text-dim); }
#attemptTable thead th.sort-asc:after { transform:translateY(-50%) rotate(225deg); }
#attemptTable thead th.sort-desc:after { transform:translateY(-50%) rotate(45deg); }

/* Cards / Panels */
.panel { background: var(--panel); border:1px solid var(--panel-border); border-radius: var(--radius-l); padding:22px 24px; margin-bottom:26px; position:relative; overflow:hidden; }
.panel:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 85% 15%,rgba(255,255,255,.08),transparent 60%); pointer-events:none; }

h2 { font-size:20px; margin:0 0 16px; font-weight:600; letter-spacing:.6px; }

/* Utility badges */
.badge { display:inline-block; background: var(--primary); padding:3px 8px; border-radius: 50px; font-size:11px; font-weight:600; letter-spacing:.5px; }

/* Help text and tooltips */
p.muted {
  color: var(--text-dim);
  font-size: 13px;
  line-height: 1.5;
  margin: 12px 0;
  padding: 12px;
  background: var(--bg-accent);
  border-left: 3px solid var(--text-dim);
  border-radius: 0 var(--radius-s) var(--radius-s) 0;
}

/* Success and error messages */
.mini.success {
  background: rgba(45, 203, 112, 0.15);
  color: #4bd786;
  border-left: 3px solid #2dcb70;
}

.mini.error {
  background: rgba(209, 75, 75, 0.15);
  color: #f07575;
  border-left: 3px solid var(--danger);
}

p.muted strong {
  color: var(--text);
  font-weight: 600;
}

/* Scrollbar styling */
.table-scroller::-webkit-scrollbar { width:10px; height:10px; }
.table-scroller::-webkit-scrollbar-track { background:#10171e; }
.table-scroller::-webkit-scrollbar-thumb { background:#1f2d38; border-radius:10px; border:2px solid #10171e; }
.table-scroller::-webkit-scrollbar-thumb:hover { background:#263644; }

/* Responsive */
@media (max-width: 900px) {
  .toolbar { flex-direction:column; }
  nav { width:100%; }
  header { flex-direction:column; align-items:flex-start; gap:12px; }
  .inline { flex-direction:column; align-items:stretch; }
  form .row { flex-direction:column; }
}
